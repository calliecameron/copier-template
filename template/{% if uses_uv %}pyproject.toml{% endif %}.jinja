[project]
name = "{{ project_name_slug }}"
version = "{{ project_version }}"
requires-python = "=={{ python_version }}"
license = "MIT"
license-files = ["LICENSE"]
dependencies = []

[dependency-groups]
dev = [
  {% if uses_copier %}
  "cookiecutter==2.6.0",
  "copier==9.10.2",
  "copier-template-extensions==0.3.3",
  "frozendict==2.4.6",
  {% endif %}
  {% if uses_gitlint %}
  "gitlint==0.19.1",
  {% endif %}
  {% if uses_copier %}
  "identify==2.6.14",
  {% endif %}
  "licensecheck==2025.1.0",
  {% if uses_mypy %}
  "mypy==1.18.2",
  {% endif %}
  {% if uses_pre_commit %}
  "pre-commit==4.3.0",
  {% endif %}
  {% if uses_pytest %}
  "pytest==8.4.2",
  "pytest-cov==7.0.0",
  {% endif %}
  {% if uses_ruff %}
  "ruff==0.13.2",
  {% endif %}
  {% if uses_shellcheck %}
  "shellcheck-py==0.11.0.1",
  {% endif %}
  {% if uses_tombi %}
  "tombi==0.6.17",
  {% endif %}
  {% if uses_typos %}
  "typos==1.36.3",
  {% endif %}
  {% if uses_yamllint %}
  "yamllint==1.37.1",
  {% endif %}
]
{% if is_python_package %}

[build-system]
requires = ["uv_build >= 0.8.17, <0.9.0"]
build-backend = "uv_build"
{% endif %}
{% if uses_pytest %}

[tool.coverage.run]
{% if not is_python_package %}
omit = ["tests/*"]
{% endif %}
{% endif %}
{% if uses_mypy %}

[tool.mypy]
{% if is_python_package %}
explicit_package_bases = false
{% else %}
explicit_package_bases = true
{% endif %}
mypy_path = "stubs"
{% if is_python_package %}
namespace_packages = false
{% else %}
namespace_packages = true
{% endif %}
pretty = true
python_version = "{{ python_version.split(".")[:2] | join(".") }}"
scripts_are_modules = true
strict = true
{% endif %}
{% if uses_pytest %}

[tool.pytest.ini_options]
{% if is_python_package %}
addopts = "--cov={{ project_name_slug }} --cov-report=term-missing"
{% else %}
addopts = "--cov --cov-report=term-missing"
pythonpath = ["."]
{% endif %}
{% endif %}
{% if uses_ruff %}

[tool.ruff]
line-length = {{ python_line_length }}

[tool.ruff.lint]
select = ["ALL"]
ignore = [
  "C90",
  "D1",
  "E741",
  "EM",
  "FIX",
{% if not is_python_package %}
  "INP001",
{% endif %}
  "PLR09",
  "PTH",
  "PYI025",
  "S603",
  "S607",
  "T20",
  "TD",
  "TRY003",
  "TRY301",
]
{% endif %}
{% if uses_tombi %}

[tool.tombi]
{% endif %}
{% if uses_typos %}

[tool.typos]
files.extend-exclude = [
{% if uses_copier %}
  "/{{ _copier_conf.answers_file }}",
{% endif %}
]
default.extend-ignore-re = [
  "(?Rm)^.*(#|//)\\s*spellchecker: *disable-line$",
  "(?s)(#|//)\\s*spellchecker:* off.*?\\n\\s*(#|//)\\s*spellchecker:* on",
  "(#|//)\\s*spellchecker:* disable-next-line\\n.*",
]
{% endif %}
